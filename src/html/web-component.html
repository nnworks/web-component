
<!-- outside web-component dom-module -->
<style lang="scss">
  .localScss {
    padding-left: 70px;
    background-image: url("../resources/images/light-dom.png");
    background-repeat: no-repeat;
    background-position: left;
    border: 1px dotted blue;
    color: green;
    @import "test";
  }
</style>

<link rel="stylesheet" type="text/css" href="../css/test.css"/>
<link rel="stylesheet" type="text/css" href="../scss/test.scss"/>


<dom-module id="web-component">
  <template>

    <!-- inside web-component dom-module -->
    <style lang="scss">
      .localScss {
        background-image: url("../resources/images/shadow-dom.png");
        background-repeat: no-repeat;
        background-position: left;
        border: 1px solid black;
        padding-left: 70px;
      }
    </style>

    <style>

      @keyframes fade-in {
        0% {
          opacity: 0
        }
        100% {
          opacity: 1
        }
      }

      @keyframes moveText {
        0% {
          left: 0px;
          top: 0px;
        }
        25% {
          left: 100px;
          top: 50px;
        }
        75% {
          left: 100px;
          top: -0px;
        }
        100% {
          left: 0px;
          top: 0px;
        }
      }

      h3 {
        font-family: "Courier";
        font-size: 12pt;
        color: red;
      }

      :host {
        display: block;
        animation: fade-in 100ms linear;
      }

      .spanningClass {
        color: blue;
        font-weight: 800;
        animation: moveText 1000ms cubic-bezier(0.42, 0, 0.58, 1), fade-in 1000ms cubic-bezier(0.42, 0, 0.58, 1);
        position: relative;
        left: 0px;
        top: 0px;
      }

      /* DOESN'T WORK (can only select top-level nodes).
      ::slotted(.company),
      ::slotted(.title .company) {
        text-transform: uppercase;
      }
      */

    </style>

    <img src="../resources/images/web-component-image.png" />


    <h3 class="localScss">{{elementName}}</h3>

    <br>

    slots:
    <p>
      title:
      <slot name="title"></slot>
    </p>
    <p>
      subject:
      <slot name="subject"></slot>
    </p>

    <p>
      <div class="spanningClass">
        spanning:
        <slot name="spanning"/>
      </div>
    </p>

    <input type="text"  value="{{component.componentName}}" name="component.name">

    <p>two way binding with input element (oninput event):</p>
    <input type="text"  value="{{component.counter::input}}" name="component.counter1">
    <p>one way model to host with input element element:</p>
    <input type="text"  value="[[component.counter]]" name="component.counter2">

  </template>

  <script>

    //import { getCurrent } from '../js/service';

    /**
     * `web-component`
     *
     * @customElement
     * @polymer
     * @demo demo/demo.html
     */
    class WebComponent extends Polymer.Element {
      static get is() {
        return 'web-component';
      }

      constructor() {
        super();

        this.elementName = 'web-component'
        this.component = {
          componentName: "StockComponent",
          counter: 1
        }

        console.log("web-component constructed");
      };

      connectedCallback() {
        super.connectedCallback();
        this.removeAttribute("showComponentWhenConnected");

        //getCurrent();

        console.log(this.shadowRoot);

        setInterval(() => {
          this.component.counter++;
          this.notifyPath('component.counter')

          console.log(this.component.counter);
        }, 1000)

      }
    }

    customElements.define(WebComponent.is, WebComponent);

  </script>
</dom-module>


